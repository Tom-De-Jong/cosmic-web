<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" data-name="vs/editor/editor.main"
        href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/editor/editor.main.min.css">

    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>

<body>
    <!-- LOGIN APPS -->

    <div class="poweredOff">

    </div>

    <div class="loginScreen">
        <div class="loginCard">
            <div class="splitdiv left">
                <p class="dateShow"></p>
                <h1 class="timeShow"></h1>
                <div class="line"></div>

                <div class="flex">
                    <img class="loginIcon" src="icons/battery.png" alt="">
                    <p class="batteryPercentage">100%</p>
                    <img class="loginIcon wifi" src="icons/wifi.png" alt="">
                </div>

                <div class="line"></div>

                <div class="flex mtop">

                    <div class="bottomItem relative">
                        <select class="selectBox" name="" id="">
                            <option onclick="screenreader()" value="screen-reader">Screen reader</option>
                            <option onclick="magnify()" value="magnifier">Magnifier</option>
                            <option onclick="contrast()" value="high-contrast">High contrast</option>
                            <option onclick="invert()" value="inverted-colors">Inverted colors</option>
                        </select>
                        <img class="icons" src="icons/accessibility.png" alt="">
                    </div>

                    <div class="bottomItem longer">
                        <img class="icons" src="icons/keyboardlayout.png" alt="">
                        <p style="cursor: default;">US</p>
                    </div>

                    <div class="bottomItem relative">
                        <select class="selectBox" name="" id="">
                            <option value="Tom-de-Jong">Tom de Jong</option>
                            <option value="meowzer">Meowzer</option>
                        </select>
                        <img class="icons" src="icons/users.png" alt="">
                    </div>

                    <div class="bottomItem relative">
                        <select class="selectBox" name="" id="">
                            <option value="cosmic">COSMIC</option>
                        </select>
                        <img class="icons" src="icons/settings.png" alt="">
                    </div>

                    <div class="bottomItem" onclick="turnOff()">
                        <img class="icons" src="icons/moon.png" alt="">
                    </div>

                    <div class="bottomItem" onclick="location.reload();">
                        <img class="icons" src="icons/roundarrow.png" alt="">
                    </div>

                    <div class="bottomItem" onclick="turnOff()">
                        <img class="icons" src="icons/power.png" alt="">
                    </div>

                </div>
            </div>

            <div class="splitdiv right">

                <div class="profilePictureHolder">
                    <div class="profilePicture"></div>
                </div>
                <p class="username">Tom de Jong</p>
                <div class="flexrow">

                    <input class="passwordInput" type="password" placeholder="enter password">
                    <div class="bottomItem mleft" onclick="login()"><img class="icons" src="icons/arrow.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>




    <div class="desktop">

        <div class="app">
            <nav class="appNav">
                <div class="iconsLeft flex">
                    <img src="" alt="">
                    <p class="appNavText">File</p>
                    <p class="appNavText">Edit</p>
                    <p class="appNavText">View</p>
                </div>

                <div class="iconsRight flex">
                    <img class="sysicon" src="sysicons/minimize.png" alt="">
                    <img class="sysicon" src="sysicons/resize.png" alt="">
                    <img class="sysicon" src="sysicons/close.png" alt="">
                </div>
            </nav>

            <div id="editor-container"></div>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>

            <script>
                require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs' } });

                require(['vs/editor/editor.main'], function () {
                    var container = document.getElementById('editor-container');

                    var editor = monaco.editor.create(container, {
                        value: "",
                        language: 'plaintext',
                        theme: 'vs-dark',
                        automaticLayout: true
                    });

                    editor.onDidChangeModelContent(() => {
                        const code = editor.getValue();

                    
                        if (code.length > 10) {
                            const result = hljs.highlightAuto(code);
                            const detectedLang = result.language;

                            const langMap = {
                                'cpp': 'cpp',
                                'python': 'python',
                                'javascript': 'javascript',
                                'csharp': 'csharp'
                            };

                            const finalLang = langMap[detectedLang] || detectedLang;

                            const currentModel = editor.getModel();
                            if (currentModel.getLanguageId() !== finalLang) {
                                monaco.editor.setModelLanguage(currentModel, finalLang);
                                console.log("Auto-detected language:", finalLang);
                            }
                        }
                    });
                });
            </script>

        </div>

        <nav class="navBar">
            <div class="leftWidget flex">
                <p class="vDesktopNumselectec">1</p>
                <p class="vDesktopNum">2</p>
            </div>

            <div class="centerWidget">
                <p class="timeCenter">time</p>
            </div>

            <div class="rightWidget">
                <img class="navWidgets" src="icons/keyboardlayout.png" alt="">
                <img class="navWidgets" src="icons/accessibility.png" alt="">
                <img class="navWidgets" src="icons/moon.png" alt="">
                <img class="navWidgets" src="icons/roundarrow.png" alt="">
                <img class="navWidgets" src="icons/power.png" alt="">
            </div>
        </nav>

        <div class="center">

            <footer class="taskBar">
                <img src="appicons/firefox.webp" alt="" class="appImage">
                <img src="appicons/texteditor.png" alt="" class="appImage">
                <img src="appicons/terminal.png" alt="" class="appImage">
                <img src="appicons/store.png" alt="" class="appImage">
                <img src="appicons/settings.png" alt="" class="appImage">
            </footer>

        </div>

    </div>
</body>
<script src="stylechanges.js" defer></script>
<script src="date.js" defer></script>
<script src="main.js" defer></script>
<script src="drag.js" defer></script>
<script>draggable = new PlainDraggable(document.querySelector(".appNav"));</script>

</html>